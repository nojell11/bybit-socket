<!DOCTYPE html>
<html>
<head>
  <title>ðŸš€ BTC Arb Monitor</title>
  <style>/* Same CSS as before */</style>
</head>
<body>
  <!-- Same HTML structure -->
  <script>
    let ws, reconnectCount = 0;
    
    function initWS() {
      ws = new WebSocket(`wss://${window.location.host}/`);
      
      ws.onopen = () => {
        console.log('âœ… WS #' + (++reconnectCount) + ' LIVE');
        document.getElementById('status').textContent = `Live (${reconnectCount})`;
      };
      
      ws.onclose = () => {
        console.log('âŒ WS closed, reconnecting...');
        document.getElementById('status').textContent = 'Reconnecting...';
        setTimeout(initWS, 1000 * reconnectCount);
      };
      
      ws.onmessage = (event) => {
        console.log('ðŸ“Š LIVE TICK:', event.data);
        try {
          const data = JSON.parse(event.data);
          const prices = data.prices || {};
          updateUI(prices);
        } catch(e) {
          console.error('Parse fail:', event.data);
        }
      };
    }
    
    function updateUI(prices) {
      // Safe price updates (same logic)
      document.getElementById('cb-price').textContent = 
        prices.coinbase?.price ? `$${prices.coinbase.price.toLocaleString()}` : '-';
      document.getElementById('kr-price').textContent = 
        prices.kraken?.price ? `$${prices.kraken.price.toLocaleString()}` : '-';
      // Update table...
    }
    
    initWS(); // Auto-reconnect WS
  </script>
</body>
</html>
